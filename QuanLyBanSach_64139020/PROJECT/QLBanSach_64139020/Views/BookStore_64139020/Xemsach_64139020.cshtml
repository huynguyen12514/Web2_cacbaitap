@model QLBanSach_64139020.Models.SACH
@{
    ViewBag.Title = "Xem chi tiết sách";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}

<div class="container mt-4">
    <div class="row mb-4">
        <!-- Ảnh sách -->
        <div class="col-md-4 text-center">
            <img src="~/images/anhsp/@Model.Anhbia" alt="@Model.Tensach" class="img-fluid rounded shadow-sm" style="max-height: 400px;" />
        </div>

        <!-- Thông tin sách -->
        <div class="col-md-8">
            <h3 class="fw-bold">@Model.Tensach</h3>
            <p><strong>Loại sách:</strong> @Model.LOAISACH.TenLoai</p>
            <div>
                <strong>Tác giả:</strong>
                @if (Model.VIETSACHes != null && Model.VIETSACHes.Any())
                {
                    foreach (var vs in Model.VIETSACHes)
                    {
                        <span>
                            @vs.TACGIA.TenTG@if (vs != Model.VIETSACHes.Last())
                            {<text>, </text>}
                        </span>
                    }
                }
                else
                {
                    <span>Chưa có tác giả</span>
                }
            </div>
            <p><strong>Nhà xuất bản:</strong> @Model.NHAXUATBAN.TenNXB</p>
            <p><strong>Số lượng còn:</strong> @Model.Soluongton quyển</p>
            <p class="text-danger fs-5">
                <strong>Giá bán:</strong> <strong>@String.Format("{0:#,##0}", @Model.Giaban) VNĐ</strong>
            </p>
            @if (Model.Soluongton > 0)
            {
                <form action="@Url.Action("ThemGiohang_64139020", "GioHang_64139020")" method="get" class="d-flex align-items-center gap-2 mt-3">
                    <input type="hidden" name="iMasach" value="@Model.Masach" />
                    <input type="hidden" name="strURL" value="@Request.Url.ToString()" />
                    <input type="number" name="soluong" value="1" min="1" max="@Model.Soluongton" class="form-control form-control-sm" style="width: 80px;" />
                    <button type="submit" class="btn btn-primary btn-lg">
                        <i class="fas fa-shopping-cart me-2"></i> Thêm vào giỏ hàng
                    </button>
                </form>


            }
            else
            {
                <span class="badge bg-danger p-2">Hết hàng</span>
            }
        </div>
    </div>
    <!-- Mô tả sách -->
    <div class="row">
        <div class="col-12">
            <h5 class="mb-2">Mô tả sách</h5>
            <p>@Model.Mota</p>
        </div>
    </div>
</div>
